<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<meta name="description" content="A content management system node app by Nicholas Ewing.">
	<meta name="keywords" content="NodeJS project, content management system, Nicholas Ewing">
	<meta name="author" content="Nicholas Ewing">
	<title>Basic CMS</title>
	<!-- This base tag fixes a common Node JS error, allowing css sheets to connect properly -->
	<base href="/">
	<link rel="stylesheet" type="text/css" href="css/layout.css">
	<link rel="icon" type="image/x-icon" href="images/favicon.ico">  
</head>
<body>
	<header>
		<div class="container">
			<div id="branding">
				<h1><a href="/">Basic CMS</a></h1>
			</div>
			<nav>
				<ul>
					<li><a href="/">Home</a></li>
					<li><a href="/users">Users</a></li>
					<% if(!currentUser) { %>
						<li><a href="/login">Login</a></li>
						<li><a href="/register">Register</a></li>
					<% } else { %>
						<li><a href="/logout">Logout</a></li>
						<li>Logged in as <%= currentUser.username %></li>
					<% } %>
				</ul>
			</nav>
		</div>
	</header>

	<% flash.forEach(function(message) { %>
		<% console.log(message)%>
		<% if(message.type.includes("toast")) { %>
			<div class="container">
				<p class="<%= message.type %>"><%=message.message%><span onclick="closeToast()">X</span></p>
			</div>
			<% flash.pop()%>
		<% } %>
	<% }); %>
